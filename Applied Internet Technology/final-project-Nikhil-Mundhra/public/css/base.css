/* public/css/base.css */
/* ============================================================
   Global tokens & reset
   ============================================================ */
   *,
   *::before,
   *::after { box-sizing: border-box; }
   
   :root {
     --maxw: 1200px;
     --gutter: 24px;
     --gutter-lg: 32px;
   
     --radius: 8px;
     --radius-sm: 4px;
   
     --space-xs: 4px;
     --space-sm: 8px;
     --space-md: 12px;
     --space-lg: 20px;
     --space-xl: 32px;
   
     --bg: #f5f7fb;
     --panel: #ffffff;
     --ink: #111;
     --muted: #666;
     --brand: #1857b6;
     --brand-dark: #0d3e89;
     --panel-border: #ddd;
     --danger-bg: #ffe8e8;
     --danger-border: #d33;
     --danger-ink: #6b0000;
   
     /* sticky note text color (flips in dark mode) */
     --note-ink: #463f2a;
   }
   
   html, body { height: 100%; margin: 0; }
   body {
     display: flex;
     flex-direction: column;
     min-height: 100vh;
     font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
     color: var(--ink);
     background: var(--bg);
   }
   
   /* ============================================================
      Layout wrappers
      ============================================================ */
   .container {
     max-width: var(--maxw);
     padding-inline: var(--gutter);
     margin-inline: auto;
   }
   
   .page {
     flex: 1;
     padding-top: var(--gutter-lg);
     padding-bottom: var(--gutter-lg);
   }
   
   /* ============================================================
      Header + Footer
      ============================================================ */
   .site-header {
     background: var(--panel);
     border-bottom: 1px solid var(--panel-border);
     box-shadow: 0 1px 3px rgba(0,0,0,0.05);
     padding: var(--space-md) var(--gutter-lg);
     display: flex;
     align-items: center;
     justify-content: space-between;
     position: sticky;
     top: 0;
     z-index: 100;
   }
   .header-inner {
     display: flex;
     align-items: center;
     justify-content: space-between;
     gap: var(--space-lg);
   }
   
   .brand {
     display: flex;
     align-items: center;
     gap: var(--space-sm);
     font-weight: 600;
     font-size: 1.1rem;
     color: var(--brand);
   }
   
   .brand-icon {
     width: 18px;
     height: 18px;
     background: var(--brand);
     border-radius: var(--radius-sm);
   }
   
   nav {
     display: flex;
     align-items: center;
     gap: 1rem;
   }
   
   nav a {
     text-decoration: none;
     color: var(--brand);
     font-weight: 500;
     font-size: 0.95rem;
     transition: color 0.15s ease-in-out;
   }
   
   nav a:hover {
     color: var(--brand-dark);
   }
   
   nav a.active {
     font-weight: 700;
   }
   
   .top-actions {
     display: flex;
     align-items: center;
     gap: var(--space-md);
   }
   
   .user-name {
     font-size: 0.95rem;
     color: var(--muted);
   }
   
   footer {
     background: var(--brand);
     color: #fff;
     text-align: center;
     padding: var(--space-md);
     font-size: 0.9rem;
     margin-top: auto;
   }
   
   footer a {
     color: #fff;
     text-decoration: underline;
   }
   
   footer a:hover {
     text-decoration: none;
   }
   
   /* ============================================================
      Buttons
      ============================================================ */
   .btn {
     display: inline-block;
     padding: 10px 14px;
     border-radius: var(--radius);
     border: 1px solid #222;
     background: #fff;
     cursor: pointer;
     font-size: 0.9rem;
   }
   
   .btn.primary {
     background: var(--brand);
     border-color: var(--brand);
     color: #fff;
   }
   
   .btn.primary:hover {
     background: var(--brand-dark);
   }
   
   .btn.secondary {
     background: #fff;
     color: var(--brand);
     border: 1px solid var(--brand);
   }
   
   .btn.secondary:hover {
     background: #f0f5ff;
   }
   
   /* ============================================================
      Inputs
      ============================================================ */
      input[type="text"],
      input[type="email"],
      input[type="password"],
      input[type="date"],
      input[type="time"],
      input[type="datetime-local"],
      input[type="search"],
      input[type="url"],
      select,
      textarea,
      .input {
        width: 100%;
        padding: 10px 12px;
        border-radius: var(--radius);
        border: 1px solid var(--panel-border);
        font-size: 0.95rem;
        font-family: inherit;
        box-sizing: border-box;
      }
   
      .input:focus,
      input[type="text"]:focus,
      input[type="email"]:focus,
      input[type="password"]:focus,
      input[type="date"]:focus,
      input[type="time"]:focus,
      input[type="datetime-local"]:focus,
      input[type="search"]:focus,
      input[type="url"]:focus,
      select:focus,
      textarea:focus {
        outline: 2px solid var(--brand);
        outline-offset: 1px;
        border-color: var(--brand);
      }
/* ============================================================
  Quick add: collapsible details (everything but Title)
============================================================ */

/* Quick add consistent sizing */
.quickadd .input {
  width: 100%;
  font-size: 0.95rem;
  padding: 0.6rem 0.65rem;
  border-radius: 6px;
  border: 1px solid #ccc;
}

/* More options toggle button */
.quickadd-details-toggle {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.4rem 0.5rem;
  border-radius: 4px;
  border: 1px solid transparent;
  background: transparent;
  font-size: 0.9rem;
  color: var(--muted);
  cursor: pointer;
  justify-content: flex-start;
}

.quickadd-details-toggle:hover {
  color: var(--brand);
  background: #f9fafb;
}

.quickadd-details-chevron {
  font-size: 0.8rem;
  transition: transform 0.15s ease;
}

/* rotate chevron when expanded */
.quickadd-details-toggle[aria-expanded="true"] .quickadd-details-chevron {
  transform: rotate(180deg);
}

.quickadd-details {
  display: grid;
  gap: 0.5rem;
  margin-top: 0.25rem;
}

/* date + time row inside the collapsible block */
.quickadd-due-row {
  display: flex;
  gap: 0.5rem;
}

.quickadd-due-input {
  flex: 1;
  width: auto;   /* prevents the date from being squeezed */
}


   /* ============================================================
      Cards & alerts
      ============================================================ */
   .card {
     background: var(--panel);
     border: 1px solid var(--panel-border);
     border-radius: var(--radius);
     padding: var(--space-xl);
     box-shadow: 0 1px 2px rgba(0,0,0,.04);
   }
   
   .alert {
     padding: 10px 12px;
     border-radius: var(--radius-sm);
     margin-bottom: 12px;
     font-size: 0.95rem;
   }
   
   .alert.error {
     background: var(--danger-bg);
     color: var(--danger-ink);
     border: 1px solid var(--danger-border);
   }
   
   /* Parsley inline errors */
   .parsley-errors-list {
     list-style: none;
     margin: 4px 0 0;
     padding: 0;
     font-size: 0.85rem;
     color: var(--danger-ink);
   }
   
   .parsley-error {
     border-color: var(--danger-border) !important;
   }
   
   /* ============================================================
      Auth / Login grids
      ============================================================ */
   .login-grid {
     display: grid;
     grid-template-columns: 1fr minmax(320px, 380px);
     gap: clamp(20px, 4vw, 48px);
     align-items: start;
   }
   
   .auth-card {
     width: 100%;
     max-width: 380px;
     margin-left: auto;
   }
   
   .app-title {
     color: var(--brand);
     font-size: clamp(2rem, 3.5vw, 3rem);
     margin: 0 0 12px 0;
   }
   
   .app-tagline {
     font-size: 1.05rem;
     color: var(--muted);
     margin: 0;
   }
   
   /* ============================================================
      Dashboard layout (lists + tasks)
      ============================================================ */
   .shell {
     max-width: var(--maxw);
     margin: 0 auto;
   }
   
   .shell-grid {
     display: grid;
     grid-template-columns: 260px 1fr;
     gap: 1.5rem;
     align-items: start;
   }
   
   .sidebar {
     background: var(--panel);
     border: 1px solid var(--panel-border);
     border-radius: var(--radius);
     padding: 1rem;
   }
   
   .sidebar h2 {
     margin: 0 0 .75rem 0;
     font-size: 1.05rem;
     color: var(--ink);
   }
   
   .list-buttons {
     list-style: none;
     padding: 0;
     margin: 0;
     display: flex;
     flex-direction: column;
     gap: .5rem;
   }
   
   .list-button {
     width: 100%;
     text-align: left;
     padding: .5rem .75rem;
     border: 1px solid #ccc;
     border-radius: 6px;
     background: #f9f9f9;
     cursor: pointer;
     font-size: .95rem;
     display: flex;
     align-items: center;
     gap: .5rem;
   }
   
   .list-button:hover {
     background: #f1f1f1;
   }
   
   .list-button.active {
     background: #e5edff;
     border-color: var(--brand);
   }
   
   /* small color dot for lists */
   .list-icon {
     width: 14px;
     height: 14px;
     border-radius: 999px;
     background: #dfe6e9;
   }
   
   /* tag pills */
   .tag-row {
     margin: .25rem 0;
     display: flex;
     flex-wrap: wrap;
     gap: 4px;
   }
   
   .tag-pill {
     display: inline-block;
     padding: 2px 6px;
     border-radius: 999px;
     font-size: .75rem;
     background: #e5e7eb;
     color: var(--ink);
   }
   
   /* Tag pills on cards (duplicate kept in sync) */
   .tag-row {
     margin: .25rem 0;
     display: flex;
     flex-wrap: wrap;
     gap: 4px;
   }
   
   .tag-pill {
     display: inline-block;
     padding: 2px 6px;
     border-radius: 999px;
     font-size: .75rem;
     background: #e5e7eb;
     color: var(--ink);
   }
   
   /* ============================================================
      Split view for tasks
      ============================================================ */
   .split {
     display: grid;
     grid-template-columns: 1fr 380px;
     gap: 1.25rem;
     align-items: start;
   }
   
   .quickadd {
     background: var(--panel);
     border: 1px solid var(--panel-border);
     border-radius: var(--radius);
     padding: 1rem;
     margin-bottom: 1.25rem;
   }
   
   .quickadd form {
     display: grid;
     gap: .75rem;
   }
   
   /* ============================================================
      Sticky notes (tasks)
      ============================================================ */
   .cards {
     list-style: none;
     padding: 0;
     margin: 0;
     display: grid;
     grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
     gap: 1rem;
   }
   
   .note {
     background: #fff3b0;
     border: 1px solid #e9d98a;
     border-radius: 10px;
     box-shadow: 0 2px 6px rgba(0,0,0,.08);
     padding: .8rem .9rem;
     transform: rotate(-.3deg);
     cursor: pointer;
   }
   
   .note:nth-child(2n) {
     transform: rotate(.35deg);
   }
   
   .note .title {
     font-weight: 700;
     color: var(--brand);
     margin: 0 0 .4rem 0;
   }
   
   .notes-preview {
     background: #fffaf0;
     border: 1px solid #e4d79c;
     border-radius: 6px;
     padding: .45rem .55rem;
     margin: .35rem 0;
     color: var(--note-ink);
   }
   
   .meta {
     display: flex;
     justify-content: space-between;
     align-items: center;
     font-size: .9rem;
     margin: .35rem 0;
     color: var(--note-ink);
   }
   
   .chips { margin: .25rem 0; }
   
   .chip {
     display: inline-block;
     padding: .15rem .5rem;
     border-radius: 999px;
     font-size: .8rem;
     border: 1px solid rgba(0,0,0,.1);
     background: #fff8cf;
   }
   
   .chip.low { background: #e0f7e9; }
   .chip.normal { background: #eef2ff; }
   .chip.high { background: #ffe5e5; }
   
   .controls {
     display: grid;
     grid-template-columns: 1fr 1fr;
     gap: .5rem;
     margin-top: .5rem;
   }
   
   .btn-note {
     padding: .5rem .65rem;
     border: 1px solid #b7aa6b;
     background: #fff8cf;
     border-radius: 8px;
     cursor: pointer;
   }
   
   .btn-note.primary {
     background: #2e7d32;
     color: #fff;
     border-color: #2e7d32;
   }
   
   /* ============================================================
      Drawer / split panel
      ============================================================ */
   .split-drawer {
     background: var(--panel);
     border: 1px solid var(--panel-border);
     border-radius: var(--radius);
     padding: 1rem;
     min-height: 70vh;
     display: none;
     flex-direction: column;
     box-shadow: 0 2px 8px rgba(0,0,0,.08);
     position: sticky;
     top: 1rem;
   }
   
   .drawer-header {
     display: flex;
     justify-content: space-between;
     align-items: center;
     margin-bottom: .75rem;
   }
   
   .drawer-body {
     overflow-y: auto;
     flex: 1;
   }
   
   /* ============================================================
      Utility
      ============================================================ */
   .stack-md > * + * { margin-top: 10px; }
   .muted { color: var(--muted); }
   
   /* Responsive */
   @media (max-width: 820px) {
     .shell-grid {
       grid-template-columns: 1fr;
     }
     .split {
       grid-template-columns: 1fr;
     }
     .split-drawer {
       position: static;
       display: none;
     }
     .login-grid {
       grid-template-columns: 1fr;
     }
   }
   
   /* ============================================================
      Settings layout
      ============================================================ */
   .settings-shell {
     max-width: var(--maxw);
     margin: 0 auto;
     display: grid;
     grid-template-columns: 220px minmax(0, 1fr);
     gap: var(--gutter-lg);
   }
   
   .settings-nav {
     background: var(--panel);
     border: 1px solid var(--panel-border);
     border-radius: var(--radius);
     padding: var(--space-lg) var(--space-md);
     display: flex;
     flex-direction: column;
     gap: var(--space-sm);
   }
   
   .settings-nav a {
     display: block;
     padding: 8px 10px;
     border-radius: var(--radius-sm);
     font-size: 1rem;
     text-decoration: none;
     color: var(--muted);
     align-items: center;
     justify-content: center;
     text-align: center;
   }
   
   .settings-nav a.active {
     background: #eef2ff;
     color: var(--brand);
     font-weight: 600;
     align-items: center;
     justify-content: center;
     text-align: center;
   }
   
   .settings-main {
     background: var(--panel);
     border: 1px solid var(--panel-border);
     border-radius: var(--radius);
     padding: var(--space-xl);
   }
   
   .settings-title {
     font-size: 1.6rem;
     margin: 0 0 var(--space-xs);
   }
   
   .settings-subtitle {
     margin: 0 0 var(--space-lg);
     color: var(--muted);
     font-size: 0.95rem;
   }
   
   .settings-section {
     border-top: 1px solid var(--panel-border);
     margin-top: var(--space-lg);
     padding-top: var(--space-lg);
   }
   
   .settings-section h3 {
     margin: 0 0 var(--space-sm);
     font-size: 1rem;
   }
   
   .settings-row {
     display: flex;
     align-items: center;
     justify-content: space-between;
     gap: var(--space-lg);
     padding: var(--space-sm) 0;
     font-size: 0.95rem;
   }
   
   .settings-row-label {
     color: var(--ink);
     align-items: center;
     justify-content: center;
     text-align: center;
   }
   
   .settings-row-value {
     color: var(--muted);
   }
   
   .settings-row-btn {
     margin-top: var(--space-lg);
     text-align: right;
     align-items: center;
     justify-content: center;
   }
   
   /* Layout page extras */
   .layout-list {
     list-style: none;
     margin: var(--space-sm) 0 0 0;
     padding: 0;
     display: flex;
     flex-direction: column;
     gap: 6px;
   }
   
   .layout-item {
     display: flex;
     align-items: center;
     gap: 10px;
     padding: 8px 10px;
     border-radius: var(--radius-sm);
     border: 1px solid var(--panel-border);
     background: #fafafa;
   }
   
   .layout-handle {
     font-size: 1.1rem;
     cursor: grab;
     color: var(--muted);
   }
   
   /* Notification toggles */
   .toggle {
     display: flex;
     align-items: center;
     gap: 18px;
     padding: 12px 0;
     border-bottom: 1px solid var(--panel-border);
   }
   
   .toggle:first-of-type {
     border-top: 1px solid var(--panel-border);
   }
   
   .toggle-input {
     display: none;
   }
   
   .toggle-track {
     width: 42px;
     height: 22px;
     border-radius: 999px;
     background: #d0d4dd;
     position: relative;
     transition: background 0.15s ease;
   }
   
   .toggle-thumb {
     width: 18px;
     height: 18px;
     border-radius: 999px;
     background: #fff;
     position: absolute;
     top: 2px;
     left: 3px;
     box-shadow: 0 1px 3px rgba(0,0,0,0.25);
     transition: transform 0.15s ease;
   }
   
   .toggle-input:checked + .toggle-track {
     background: var(--brand);
   }
   
   .toggle-input:checked + .toggle-track .toggle-thumb {
     transform: translateX(18px);
   }
   
   .toggle-label {
     font-size: 0.95rem;
   }
   
   /* Responsive */
   @media (max-width: 820px) {
     .settings-shell {
       grid-template-columns: 1fr;
     }
   }
   
   /* ============================================================
      Themes
      ============================================================ */
   
   /* Dark theme */
   body.theme-dark {
     --bg: #020617;
     --panel: #111827;
     --ink: #f9fafb;
     --muted: #9ca3af;
     --panel-border: #1f2937;
     --brand: #38bdf8;
     --brand-dark: #0ea5e9;
   
     /* make errors readable on dark */
     --danger-bg: #450a0a;
     --danger-border: #fca5a5;
     --danger-ink: #fee2e2;
   
     /* sticky note text color on dark */
     --note-ink: #fef9c3;
   }
   
   /* Custom theme */
   body.theme-custom {
     --bg: #faf5ff;
     --panel: #ffffff;
     --ink: #1f2933;
     --muted: #6b7280;
     --panel-border: #e5e7eb;
     --brand: #7c3aed;
     --brand-dark: #5b21b6;
   
     --danger-bg: #fef2ff;
     --danger-border: #db2777;
     --danger-ink: #9d174d;
   
     --note-ink: #4b5563;
   }
   